<!doctype html> <html lang="en">
<!-- This is a generated file. Do not edit. -->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>AGU 2018 presentation</title>

        <meta name="description" content="Slides for AGU 2018 presentation">
        <meta name="author" content="Helena Mitasova">

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/ncsu-geoforall-lab.css" id="theme">
        <link rel="stylesheet" href="css/nouislider.css" id="slide">

        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="lib/css/zenburn.css">
        <!-- For chalkboard plugin -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

        <!-- If the query includes 'print-pdf', include the PDF print sheet -->
        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
<section>
<!--<h4 style="color: #707070">AAS 2018</h4>-->
<h2 style="margin-top: 0.0em;color: #000"> 
Integration and Analysis of Lidar and UAS Surveys 
</h2>
<h3>to Study Coastal Sand Dunes Evolution and 
<br>Changes in Field Microtopography
</h3>
<p>
<h4 style="color: #707070">Helena Mitasova
<br>A. Petrasova, V. Petras, J. Jeziorska, C. Kling</h4>
<p><img src="img/cgaBlack.png" height="40"> &nbsp; &nbsp; <img src="img/4x1white.jpg" height="25">
<p><small>Link to this presentation:<a href="https://ncsu-geoforall-lab.github.io/dynamic-surfaces-talk/agu2018.html#/">https://ncsu-geoforall-lab.github.io/dynamic-surfaces-talk/agu2018.html#/</a></small>
<p><small>Data acknowledgment: NOAA digital coast, NC Floodplain mapping, NCALM, USACE JALBTCX, USGA/NASA/NOAA coastal mapping, NC NGAT UAS mapping</small>
</section>

<section>
<h3>Multitemporal elevation data</h3>
<p>
<ul>
 <li>Lidar surveys along North Carolina coast since 1996
 <li>UAS and SfM made 3D mapping widely accessible 
 <li>monitoring dynamic landscapes is now possible at increasingly finer spatial and temporal resolutions 
 <li>rapid evolution of technology leads to data with varied properties: 
often we have to work with multitemporal data rather than time-series
</ul>
<p><img width="48%" src="img/surfaces/lid1996.jpg"> <img width="48%" src="img/surfaces/lidar2008scalebar.jpg">
 <br>Lidar-based DSM: 1996 and 2008, differences in coverage, accuracy, point density 
<p><small>Hardin, E., Mitasova, H., Tateosian, L., Overton, M., 2014, GIS-based Analysis of Coastal Lidar Time-Series, Springer Briefs in Computer Science, Springer, New York, 84 p.</small>
</section>

<section>
<h3>GRASS GIS temporal framework</h3>
<p> Efficient management and analysis of multitemporal 2D/3D raster and vector data
<p>Gebbert, S., Pebesma, E., 2014. A temporal GIS for field based environmental modeling. Environmental Modelling and Software 53, 1-12.
<p>
  <img height="110" src="img/surfaces/timeline.png"> 
   <img height="160" src="img/surfaces/jr_timeline3D.jpg"> 
<br><img height="120" src="img/surfaces/series2.jpg">
</section>

<section>
<h3>Jockey's Ridge sand dunes</h3>
<ul>
<li> Largest active dunes on the East coast, state park with static boundaries
<li> Management challenges: wind blown sand covers structures and roads outside the park, dune lost elevation
</ul>
<br>
<img height="350" src="img/surfaces/NHstudyarea_geoinf09c.jpg">
<img height="350" src="img/surfaces/JR_parkboundary.jpg">
<br><small>Mitas, O., Mitasova, H.; Brothers, G., Weaver, K., 2014, Managing Dune Landscape Changes at Jockey's Ridge State Park, North Carolina, Tourism in Marine Environments 9(3-4), pp. 155-167.</small>
</section>

<section>
<h3>Coastal multitemporal elevation data</h3>
<ul>
  <li>photogrammetry: 1974, 1995, 1998
  <li>lidar: 1999,2001,2007,2008,2009,2012,2014,2015 (7/2018,10/2018)
  <li>structure from motion from UAS imagery: 2016,2017
</ul>
<br>
<img height="145" src="img/surfaces/points_1974.png"> &nbsp; &nbsp;
<img height="145" src="img/surfaces/points_1998.png"> &nbsp; &nbsp;
<img height="145" src="img/surfaces/points_1999.png"> 
<br>1974 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
    1998 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1999
<br>
<img height="145" src="img/surfaces/points_2001.png">&nbsp; &nbsp; 
<img height="145" src="img/surfaces/points_2009.png"> &nbsp; &nbsp;
<img height="145" src="img/surfaces/points_2015.png"> 
<br>2001 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
    2009 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2015
<br><small>vertical / horiz. accuracy: 0.7 / 0.4 m photogrammetry, 0.15 / 0.2 - 0.8 m lidar</small>
</section>

<section>
<h3>Processing DEMs</h3>
<ul>
<li>1m resolution DEMs: interpolated with regularized spline with tension
<li>Elevations along I-158 were extracted to evaluate systematic errors
<li>UAS survey did not cover the road, GCPs on dune were used
</ul> 
<p><img height="200" src="img/surfaces/surveycount13.jpg"> 
<img height="190" src="img/surfaces/profile_99_15_lgorig2.png"> 
<p><small>number of surveys per grid cell &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
profiles along I-158 road section from lidar DEMs 1999-2015 </small>
</section>

<section>
<h3>Processing DEMs</h3>
<ul>
<li>1m resolution DEMs: interpolated with regularized spline with tension
<li>Elevations along I-158 were extracted to evaluate systematic errors
<li>UAS survey did not cover the road, GCPs on dune were used
</ul>
<p><img height="200" src="img/surfaces/surveycount13.jpg">
<img height="190" src="img/surfaces/profile_99_15_lgcorr.png">
<p><small>number of surveys per grid cell &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
profiles along I-158 section: corrected lidar DEMs 1999-2015 </small>     
</section>

<!--
<section>
<h3>Processing DEMs: interpolation</h3>
<p>Impact of RST tension on surface slope and curvatures
<p>Parameters were selected to reduce noise but preserve dune features
<img height="380" src="img/surfaces/lidar_tension_curv.gif">
<p><small>H.Mitasova, H., Mitas, L. and Harmon, R.S., 2005, Simultaneous spline interpolation and topographic analysis for lidar elevation data: methods for Open source GIS, IEEE GRSL 2(4), pp. 375- 379.</small>
</section>
-->

<section>
    <h3>DEM time series visualization</h3>
<p>Jockey's Ridge 1974 - 2017: southward migration at 3-6 m/yr, landform transformation
from crescentic dune to sand starved, fast moving parabolic dunes
<!--    <img height="350" src="img/surfaces/jrseries.png"> -->
<br>
    <img height="480" src="img/surfaces/jr_74_17_anim3dlgfix.gif">
<br><img width="300" src="img/surfaces/scalbar.png">
</section>

<section class="stretch" data-animate="1,13" data-path="img/surfaces/JR_anim/JR_anim">
<h3>DEM time series visualization 1974 - 2017</h3>
</section>

<section>
    <h3>Post-hurricane Mathews ripples</h3>
<p>Orthphoto from UAS survey, october 2016
    <img height="500" src="img/surfaces/uas_ortho_2016small.jpg">
<br><img width="300" src="img/surfaces/scalbar.png">
</section>

<section>
 <h3>Annual dynamics from Planet imagery</h3>
<p> Satellite imagery at 3m resolution, September 2017 - July 2018, captures impact of  
storm in March 2018 with large ripples similar to those observed post Mathews
<p>
<iframe data-autoplay width="580" height="360" src="img/surfaces/sep17_july18.mp4" frameborder="0" allowfullscreen></iframe>
<p><small>Planet: worldâ€™s largest constellation of Earth-imaging (micro) satellites providing daily observations 
for entire Earth at 3m resolution</small>
</section>

<section>
<h3>Complex pattern of changes</h3>
<ul>
<li>DEM differences show both loss and increase in elevation
<li>total sand volume is stable (~3.5 mil cubic m) 
<li>volume of core (sand not moved between 1974-2017) is only 30% of total volume 
</ul>
<img height="280" src="img/surfaces/jrdiff74_95.jpg">
<img height="280" src="img/surfaces/jrdiff08_15.jpg">
<p class="fragment"><img height="120" src="img/surfaces/jr_cut74_17.jpg"></p>
<!--  <img height="130" src="img/surfaces/temp_plot_windward_pt.png">
   <img height="130" src="img/surfaces/temp_plot_leeward_pt.png">
<img height="200" src="img/surfaces/jr7417_maxrastcorr.jpg">-->
</section>

<section class="stretch" data-animate="1,6" data-path="img/surfaces/jr_cut_anim/jr_cut74_17">
<h3>Overlayed DEMs 1974 - 2017: crossections</h3>
</section>

<!--
<section>
<h3>Vegetation</h3>
<ul>
<li>burried vegetation extent was estimated using DEM and DSM (more details?)
<li>Vegetation has spread, but dune still kills trees on the leeward side
</ul>
<p>
<img height="400" src="img/surfaces/jr_vegetation45_09.jpg">
&nbsp; &nbsp;
<img height="350" src="img/surfaces/veglost98_07.jpg">
</section>
-->

<section>
    <h3>Landform change: contours time series</h3>
Dune gradually split into smaller parabolic dunes: contours capture the landform change but they are hard to read
<br>   <img height="250" src="img/surfaces/jr_74_2017_16mcontour.png"> 16m
<br>   <img height="230" src="img/surfaces/jr_74_2017_20mcontour.jpg"> 20m
&nbsp; &nbsp; &nbsp; &nbsp;  <img height="160" src="img/surfaces/jr_years_lg.png"> 
</section>

<section >
    <h3>Space-Time cube visualization</h3>
<p>DEM time series is converted into space-time voxel model in TGRASS and evolution of a contour 
is represented as isosurface: 16m and 20m </p>
  <img height="400" src="img/surfaces/jr16/animation.gif"> 
<!--<img src="img/jr18/animation.gif"> -->
<img height="400" src="img/surfaces/jr20/animation.gif"> 
</section>

<section>
<h3>Peak elevation change </h3>
<ul>
  <li>linear trend in loss of peak elevation at 0.3 m/yr, from 43 m to 20 m
  <li>accelerating horizontal migration
</ul>
<p>
<img height="220" src="img/surfaces/jr_peakchange2.jpg">
<br><img height="180" src="img/surfaces/peakregression_1950_2017.png">
<img height="180" src="img/surfaces/peakregression_1995_2017.png">
<br><small>Location of peak migrates following dune transformation</small>
</section>

<section>
<h3>Peak elevation change </h3>
<ul>
  <li>growth between 1917 - 1949, reconstruct DEM from 1949 and 60s imagery
  <li>accelerating horizontal migration
</ul>
<p>
<img height="220" src="img/surfaces/jr_peakchange.jpg">
<br><img height="180" src="img/surfaces/peakregression_1950_2017.png">
<img height="180" src="img/surfaces/peakregression_1995_2017.png">
<br><small>Location of peak migrates following dune transformation</small>
</section>

<section>
<h3>Jockey's Ridge story</h3>
<p>The 43 m high dune was a transient landform, 
<br>transitioned between forest and active dunes over the past 2000 years 
<p><img height="200" src="img/surfaces/JR_photosevol_17_50_08.jpg">
<br>
<img height="180" src="img/surfaces/Kittytrees1900.jpg">
<img height="180" src="img/surfaces/JR_2017_burriedtrees.jpg">
&nbsp;&nbsp;
<img height="180" src="img/surfaces/buldoz1_s.jpg">
<br><small>Dune in early 1900 and in 2016, sand removal at the park boundary in 2003</small>
</section>

<!--
<section>
<h3>Management and References</h3>
<ul>
<li>Understanding and quantification of dune migration informed dune management : relocation of sand leaving the park
to the windward side to "feed" the dune
<small>
<li>integration of lidar and UAS to monitor dune field evolution ESPL, in preparation
<li>Mitas, O., Mitasova, H.; Brothers, G., Weaver, K., 2014, Managing Dune Landscape Changes at Jockey's Ridge State Park, North Carolina, Tourism in Marine Environments 9(3-4), pp. 155-167.
<li>Mitasova, H., Overton, M., Harmon, R.S., 2005, Geospatial analysis of a coastal sand dune field evolution: Jockey's Ridge, North Carolina, Geomorphology 72, pp 204-221.
<li>Petrasova, A., Mitasova, H., Petras, V., Jeziorska, J. 2017. Fusion of high-resolution DEMs for water flow modeling. In: Open Geospatial Data, Software and Standards. 2:6 https://opengeospatialdata.springeropen.com/articles/10.1186/s40965-017-0019-2
<li> Hardin, E., Mitasova, H., Tateosian, L., Overton, M., 2014, GIS-based Analysis of Coastal Lidar Time-Series, Springer Briefs in Computer Science, Springer, New York, 84 p.  https://www.springer.com/us/book/9781493918348
<li>Mitasova H., Harmon R.S., Weaver K.J., Lyons, N.J. and Overton, M.F., 2012, Scientific visualization of landscapes and landforms, Geomorphology 137(1), p. 122-137. (doi: 10.1016/j.geomorph.2010.09.033)
</small>
</ul>
</section>
-->

<section>
<h3>Agricultural field monitoring</h3>
<ul>
<li>UAS based monitoring of field microtopography and crop topography
<li>28 surveys over 4 years, 
<li>4 different platforms (Trimble UX5, eBee Plus, DJI Inspire, Phantom 3)
<li>Agisoft Photoscan, GRASS GIS temporal framework
<li>tilled field with crops (corn or sorghum), 8 GCPs, COA
<li>fusion with lidar for watershed modeling
</ul>
<p class="credit">
Jeziorska, J., Montgomery, K., Mitasova, H. 2018, Microtopography and Crop Vigor Changes Assessment Using Time Series of UAS Derived Data.
AGU Fall 2018 meeting poster B33F-2378
<br> Petrasova, A., Mitasova, H., Petras, V., Jeziorska, J., 2017, Fusion of high-resolution DEMs for water flow modeling, Open Geospatial Data, Software and Standards 2(6)
<br>Jeziorska, J; Mitasova, H; Petrasova, A; Petras, V; Divakaran, D; Zajkowski, T., 2016, Overland flow analysis using time series of sUAS-derived elevation models, ISPRS Ann. Photogramm. Remote Sens. Spatial Inf. Sci., III-8, 159-166. DOI:10.5194/isprs-annals-III-8-159-2016 
</p>
<!--    <img height="350" src="img/surfaces/agisoft_jan.gif">-->
</section>

<section>
<h3>Ultra-high resolution water flow: UAS mapping</h3>
 <p>Modeling impact of tillage and rills on surface water flow using 0.2m DEM derived by SfM based on UAS imagery 
<p>
    <img height="400" src="img/surfaces/uas_03_depth.gif">
<!--    <img height="350" src="img/surfaces/agisoft_jan.gif">-->
<p>Poster by Jeziorska et al., AGU Fall 2018
</section>

<section>
<h3> Conclusion</h3>
<ul>
 <li>Multitemporal mapping of evolving landforms brings new insights into landscape dynamics
 <li>next step - evolution of urban topography
</ul>
<p>
<p>2015 lidar updated with 2018 UAS data: forested are replaced by a new school
<p>
    <img height="380" src="img/surfaces/uas_lidar_update.gif">
<br><a href="https://geospatial.ncsu.edu/geoforall/publications.html">NCSU GeoForAll Lab</a>
</section>

<section>
<h3>Open Science</h3>
<p>Developing open source software and contributing to OSGeo projects:
<p>GRASS GIS <a href="https://grass.osgeo.org/">https://grass.osgeo.org/</a>
<br>Tangible Landscape  <a href="https://tangible-landscape.github.io">tangible-landscape.github.io</a>
<p>Open access educational material:
<p>NCSU GeoForAll Lab Courses and Workshops
<a href="https://geospatial.ncsu.edu/geoforall/courses.html">https://geospatial.ncsu.edu/geoforall/courses.html</a>
<p><img height="280" src="img/surfaces/geovizlab_people2018.jpg">
</section>

<section>
<h3>Supplemental material</h3>
GCPs on the Jockey's Ridge dune for the 2016 UAS survey
<p><img height="280" src="img/surfaces/gcp2016orange2_orthozm.png">
</section>

<section>
    <h3>Appendix</h3>
<ul>
 <li><a href="https://ncsu-geoforall-lab.github.io/tangible-landscape-talk/worldbank-webinar.html#/">Tangible Landscape</a>
 <li><a href="https://petrasovaa.github.io/amos-STC-presentation/foss4g_presentation.html#/">Pedestrian patterns from webcams</a>
 <li><a href="https://wenzeslaus.github.io/grass-gis-talks/#/">GRASS GIS 7.2</a>
 <li><a href="https://wenzeslaus.github.io/raster3d/#/">3D rasters</a>
</ul>

</section>

<!-- 
<section>
    <h3>Visualization: Blend4Web</h3>
<iframe class="stretch" src="./blend4web.html?autorotate"></iframe>
</section>

for I in `ls *9706*`
do
scp $I akratoc@fatra.cnr.ncsu.edu:/var/www/html/cJw9c0/nJ0qKyeeuAXuWFouqfJx0GRMVU7OZhcPfNzy9/amos/rendering/
done

for I in `ls *10823*`
do
scp $I akratoc@fatra.cnr.ncsu.edu:/var/www/html/cJw9c0/nJ0qKyeeuAXuWFouqfJx0GRMVU7OZhcPfNzy9/amos/rendering/
done
-->



<!-- This is a generated file. Do not edit. -->
        </div>  <!-- slides -->

    </div>  <!-- reveal -->
    <!--
        Home button or link to a parent page
        If you want this to be unique for every page (slide deck),
        then remove it from here and put it at the end of each
        file (or series of files) creating one page
        (the position will be little different)
        TODO: some JS is needed to move it to the right position
    -->
    <div class="parent-page">
        <!-- alternative symbol: &#x1f3e0; -->
        <a href="https://github.com/petrasovaa/amos-STC-presentation" title="Go to the repository">
        <img width="15px" src="img/home.svg"></a>
    </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>

        <script>

            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                // Display controls in the bottom right corner
                controls: false,

                // Display a presentation progress bar
                progress: true,
                
                center: true,
                showNotes: false,
                // Display the page number of the current slide
                slideNumber: false,

                // Enable the slide overview mode
                overview: true,

                // Turns fragments on and off globally
                fragments: true,

                // The "normal" size of the presentation, aspect ratio will be preserved
                // when the presentation is scaled to fit different resolutions. Can be
                // specified using percentage units.
                // width: 960,
                // height: 700,
                
                // Factor of the display size that should remain empty around the content
                margin: 0.05,  // increase?

                // Bounds for smallest/largest possible scale to apply to content
                minScale: 0.5,
                maxScale: 5.0,

                theme: Reveal.getQueryHash().theme,  // available themes are in /css/theme
                transition: Reveal.getQueryHash().transition || 'none', // default/cube/page/concave/zoom/linear/fade/none

                // Push each slide change to the browser history
                history: true,
                // Enable keyboard shortcuts for navigation
                keyboard: true,

                // Vertical centering of slides
                center: true,

                // Enables touch navigation on devices with touch input
                touch: true,

                // Loop the presentation
                loop: false,
                // Flags if the presentation is running in an embedded mode,
                // i.e. contained within a limited portion of the screen
                embedded: false,

                // Number of milliseconds between automatically proceeding to the
                // next slide, disabled when set to 0, this value can be overwritten
                // by using a data-autoslide attribute on your slides
                autoSlide: 0,

                // Stop auto-sliding after user input
                autoSlideStoppable: true,

                // Enable slide navigation via mouse wheel
                mouseWheel: false,

                // Hides the address bar on mobile devices
                hideAddressBar: true,

                // Opens links in an iframe preview overlay
                previewLinks: false,

                // Transition speed
                transitionSpeed: 'default', // default/fast/slow

                // Transition style for full page slide backgrounds
                backgroundTransition: 'none', // default/none/slide/concave/convex/zoom

                // Number of slides away from the current that are visible
                viewDistance: 3,

                // Parallax background image
                //parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

                // Parallax background size
                //parallaxBackgroundSize: '' // CSS syntax, e.g. "2100px 900px"
                // Optional libraries used to extend on reveal.js
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
                    { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
                    { src: 'plugin/math/math.js', async: true }
                ]
            });

        </script>
<script src="js/nouislider.min.js"></script>
<script src="js/jquery-2.2.4.min.js"></script>
<script>
Reveal.addEventListener( 'ready', function( event ) {
	var nSlides = Reveal.getTotalSlides();

    for (i = 0; i < nSlides; i++) {
        createSlidersWebcam(Reveal.getSlide(i))
        createSlidersAnim(Reveal.getSlide(i))
    }
    
} );

function createSlidersWebcam(slide) {
    if (!$(slide).attr('data-camera')) {
        return;
    }
    var cam_number = $(slide).data('camera').split("_")[0]
    var slidenum = $(slide).data('slidenum')
    var slidenums = slidenum.split(",")
    slhtml = `<div  style="float:left; max-width:80%">
    <img id="animimage" width="100%" style="margin:auto"></div>
    <div style="float:right; max-width:20%">
    <img src="img/legend.png" width="200px">`
    if (slidenums[0] != -1) {
        slhtml += `<div style="font-size:70%">Isosurface <span style="font-size:50%">(people per 100 m<sup><span style="font-size:70%">2</span></sup>h)</span></div>
                   <div class="slider" id="slider1" style="background: #d2d2d2;width: 200px;margin: auto;margin-bottom: 15px"></div>`
    }
    if (slidenums[1] != -1) {
        slhtml += `<div style="font-size:70%">Rotate</div>
                   <div class="slider" id="slider2" style="background: #d2d2d2;width: 200px;margin: auto;margin-bottom: 15px"></div>`
    }
    slhtml += '</div>'
    slide.innerHTML += slhtml
    if (slidenums[0] != -1) {
        var slider1 = slide.querySelector('#slider1');
        noUiSlider.create(slider1, {
        	start: [12],
            step: 1,
        	connect: true,
        	range: {
        		'min': 0,
        		'max': 19
        	}
        });
        slider1.noUiSlider.on('slide', setImage);
        slider1.noUiSlider.set(slidenums[0])
    }
    if (slidenums[1] != -1) {
        var slider2 = slide.querySelector('#slider2');
        noUiSlider.create(slider2, {
            start: [0],
            step: 1,
            connect: true,
            range: {
                'min': 0,
                'max': 19
            }
        });
        slider2.noUiSlider.on('slide', setImage);
        slider2.noUiSlider.set(slidenums[1])
    }
    var animimage = slide.querySelector('#animimage')


    setImage()
    
    function setImage(){
        var value1 = 0
        var value2 = 0
        if (slidenums[0] != -1) {
            value1 = parseInt(slider1.noUiSlider.get());
        }
        if (slidenums[1] != -1) {
            value2 = parseInt(slider2.noUiSlider.get());
        }
        //var path = "/media/anna/Data/Projects/webcams/renderings/"
        var path = "http://fatra.cnr.ncsu.edu/cJw9c0/nJ0qKyeeuAXuWFouqfJx0GRMVU7OZhcPfNzy9/amos/rendering/"
        var camera = $(slide).data('camera')
        $("#animimage", slide).attr("src", path + "map_points_points_" + camera + "." + pad(value1, 4) + "." + pad(value2, 4) +".jpg");
    }
    function pad(n, width) {
        z = '0';
        n = n + '';
        return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
    }
}

function createSlidersAnim(slide) {

    if (!$(slide).attr('data-animate')) {
        return;
    }
    var slidenum = $(slide).data('animate')
    var slidenums = slidenum.split(",")
    slhtml = `<div class="slider" id="slider" style="background: #d2d2d2;width: 400px;margin: auto;margin-bottom: 15px"></div>`
    slhtml += `<img id="animimage" width="100%" style="margin:auto">`

    slide.innerHTML += slhtml
        var slider = slide.querySelector('#slider');
        noUiSlider.create(slider, {
            start: [0],
            step: 1,
            connect: true,
            range: {
                'min': parseInt(slidenums[0]),
                'max': parseInt(slidenums[1])
            }
        });
        slider.noUiSlider.on('slide', setImage);
        slider.noUiSlider.set(0)
    var animimage = slide.querySelector('#animimage')

    setImage()

    function setImage(){
        var value = 0
        value = parseInt(slider.noUiSlider.get());

        var path = $(slide).data('path')
        $("#animimage", slide).attr("src", path + "_" + value + ".png");
    }
}
</script>
    </body>
</html>
